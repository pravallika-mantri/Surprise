<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Find the Hidden Cake ğŸ‚</title>
  <link rel="stylesheet" href="{% static 'css/minigame.css' %}">
  <script src="{% static 'js/global.js' %}"></script>

</head>
<body>
 <!-- ğŸµ Background Music -->
  <audio id="bg-music" src="{% static 'music/bg-music.mp3' %}" autoplay loop></audio>
  <h1>ğŸ‚ Find the Hidden Cake! ğŸ‰</h1>
  <p>Click the boxes to find where the cake is hiding ğŸ°</p>

  <div id="game-board"></div>
  <p id="result-message"></p>
  <button id="play-again">Play Again ğŸ”</button>
  <button id="msg" style="margin-left: 10px;">Move On â¡ï¸</button>
  <!-- ğŸ”Š Global Click Sound -->
<audio id="click-sound" src="{% static 'audio/click.mp3' %}" preload="auto"></audio>
  <script> const staticImgPath = "{% static 'img/' %}"; </script>

  <script src="{% static 'js/minigame.js' %}"></script>
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const bgMusic = document.getElementById("bg-music");
  bgMusic.volume = 0;
  setTimeout(() => { bgMusic.volume = 0.4; }, 500); // Gentle background volume

    // Try autoplay â€” some browsers may block it
    bgMusic.play().catch(() => {});

    // Resume when user interacts (mobile-safe)
    const startMusic = () => {
      bgMusic.play().catch(() => {});
      document.removeEventListener("click", startMusic);
    };
    document.addEventListener("click", startMusic);
  });
</script>

</body>
</html>
